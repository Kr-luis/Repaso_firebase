"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(C,c,l)=>{l.r(c),l.d(c,{LoginPageModule:()=>L});var m=l(177),i=l(4341),r=l(4742),d=l(845),u=l(467),e=l(4438),f=l(4796);function h(n,a){1&n&&(e.j41(0,"ion-note",9),e.EFF(1,"Email is invalid"),e.k0s())}function y(n,a){1&n&&(e.j41(0,"ion-note",9),e.EFF(1,"Password needs to be 6 characters"),e.k0s())}const v=[{path:"",component:(()=>{var n;class a{constructor(o,t,s,p,b){this.fb=o,this.loadingController=t,this.alertController=s,this.authService=p,this.router=b}get email(){return this.credentials.get("email")}get password(){return this.credentials.get("password")}ngOnInit(){this.credentials=this.fb.group({email:["",[i.k0.required,i.k0.email]],password:["",[i.k0.required,i.k0.minLength(6)]]})}register(){var o=this;return(0,u.A)(function*(){const t=yield o.loadingController.create();yield t.present();const s=yield o.authService.register(o.credentials.value);yield t.dismiss(),s?o.router.navigateByUrl("/home",{replaceUrl:!0}):o.showAlert("Registration failed","Please try again!")})()}login(){var o=this;return(0,u.A)(function*(){const t=yield o.loadingController.create();yield t.present();const s=yield o.authService.login(o.credentials.value);yield t.dismiss(),s?o.router.navigateByUrl("/home",{replaceUrl:!0}):o.showAlert("Login failed","Please try again!")})()}showAlert(o,t){var s=this;return(0,u.A)(function*(){yield(yield s.alertController.create({header:o,message:t,buttons:["OK"]})).present()})()}}return(n=a).\u0275fac=function(o){return new(o||n)(e.rXU(i.ok),e.rXU(r.Xi),e.rXU(r.hG),e.rXU(f.u),e.rXU(d.Ix))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-login"]],decls:16,vars:4,consts:[["color","primary"],[1,"ion-padding"],[3,"ngSubmit","formGroup"],["fill","solid",1,"ion-margin-bottom"],["type","email","placeholder","Email","formControlName","email"],["slot","error",4,"ngIf"],["type","password","placeholder","Password","formControlName","password"],["type","submit","expand","block",3,"disabled"],["type","button","expand","block","color","secondary",3,"click"],["slot","error"]],template:function(o,t){1&o&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.EFF(3,"My App"),e.k0s()()(),e.j41(4,"ion-content",1)(5,"form",2),e.bIt("ngSubmit",function(){return t.login()}),e.j41(6,"ion-item",3),e.nrm(7,"ion-input",4),e.DNE(8,h,2,0,"ion-note",5),e.k0s(),e.j41(9,"ion-item",3),e.nrm(10,"ion-input",6),e.DNE(11,y,2,0,"ion-note",5),e.k0s(),e.j41(12,"ion-button",7),e.EFF(13,"Log in"),e.k0s(),e.j41(14,"ion-button",8),e.bIt("click",function(){return t.register()}),e.EFF(15,"Create account"),e.k0s()()()),2&o&&(e.R7$(5),e.Y8G("formGroup",t.credentials),e.R7$(3),e.Y8G("ngIf",(t.email.dirty||t.email.touched)&&t.email.errors),e.R7$(3),e.Y8G("ngIf",(t.password.dirty||t.password.touched)&&t.password.errors),e.R7$(),e.Y8G("disabled",!t.credentials.valid))},dependencies:[m.bT,i.qT,i.BC,i.cb,r.Jm,r.W9,r.eU,r.$w,r.uz,r.JI,r.BC,r.ai,r.Gw,i.j4,i.JD]}),a})()}];let P=(()=>{var n;class a{}return(n=a).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[d.iI.forChild(v),d.iI]}),a})(),L=(()=>{var n;class a{}return(n=a).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[m.MD,i.YN,r.bv,P,i.X1]}),a})()}}]);